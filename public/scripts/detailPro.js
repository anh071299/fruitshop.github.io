let url=new URL(window.location.href),productId=url.searchParams.get("productId"),xhr=$.ajax({url:`products/${productId}`,type:"GET",dataType:"json"}).done(function(t){let i=t,s=` \n        <h1 class="product-title">${i.title}</h1>\n        <div class="price">\n        ${""==i.salePrice?`<span class ="original-price real-price">$${i.originalPrice}.0</span>`:`<span class ="original-price"><strike>$${i.originalPrice}.0</strike></span>`}\n        <span  ${""==i.salePrice?'style ="display:none"':'style = "display:inline" class="sale-price real-price"'}  >$${i.salePrice}.0</span>\n        \n        </div>\n        <div class="product-des">\n           ${i.summary}\n        </div>\n        <div class="product-meta">\n            <span class="unit"><b>Unit</b>:${i.unit}</span>\n            <span class="posted-in"><b>Categories</b>: ${i.category} </span>\n            <span class="sku-id"><b>SKU</b>: ${i.sku} </span> \n        </div>\n        `,n="";t.component.forEach(function(t){for(key in t)n+=`\n        <tr>\n            <th>${key}</th>\n            <td>${t[key]}</td>\n        </tr>\n         `}),xhr=$.ajax({url:`products?category=${t.category}`,type:"GET",dataType:"json"}).done(function(i){i=i.filter(i=>i.id!=t.id).map(t=>` <div class="product-item"  >\n<div class="product-container">\n  <div class="product-img">\n \n           <a href="product.html?productId=${t.id}">\n    \n           <img src="${t.image}" alt=${t.title} />\n    </a>\n  </div>\n        <div class="product-content">\n        <h2 class="product-title"><a href="product.html?productId=${t.id}">${t.title}</a></h2>\n   ${""==t.salePrice?`<span class ="original-price real-price">$${t.originalPrice}.0</span>`:`<span class ="original-price"><strike>$${t.originalPrice}.0</strike></span>`}\n  <span ${""==t.salePrice?'style ="display:none"':'style = "display:inline" class="sale-price real-price"'}  >$${t.salePrice}.0</span>\n        </div>\n        <a class="basket-icon icon" title = "${t.title}" onclick="addCart(${t.id})"><i class="bi bi-basket"></i></span></a>\n</div>\n</div>`).join(""),$(".product-slider").html(`${i}`),$(".product-slider").slick({infinite:!1,slidesToShow:4,arrows:!1,slidesToScroll:4,dots:!0,responsive:[{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:3,dots:!0}},{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:2,dots:!0}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!1}}]})}),$(".current-fruit").html(`${i.title}`),$(".product-info").html(s),$(".product-image").html(`<img src="${i.image}" alt="fruit">`),$("#des-tab-content").html(`${i.description}`),$(".nutrition-table tbody").html(`${n}`),$("title").html(`${i.title} - Fresh Farm`),$(".product-detail .corner-add").html(`\n        <input type="button" value="Add to Cart" title = "${i.title}" class="btn submitBtn" onclick="addCart(${i.id})" />\n        <span class="morph-element">\n        </span>\n    `)});$("ul.product-tabs li a").click(function(){$this=$(this),$(".product-tab-content").hide(),$("ul.product-tabs li a").removeClass("active"),$this.addClass("active").blur();var t=$this.attr("href");return $(t).fadeIn(350),!1}),$("ul.product-tabs li:first a").click(),$(".q-icon").off("click").on("click",function(){var t=$(".quanity input").attr("min"),i=$(".quanity input").attr("max");if($(this).hasClass("q-inc")){var s=parseInt($(this).parent().find("input").val())+1;s>i&&(s=i),$(this).parent().find("input").val(s).trigger("change")}if($(this).hasClass("q-des")){var n=parseInt($(this).parent().find("input").val())-1;n<t&&(n=1),$(this).parent().find("input").val(n).trigger("change")}});